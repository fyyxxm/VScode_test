


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             MY_STING, CODE, READONLY, ALIGN
=2
    2 00000000                 PRESERVE8
    3 00000000                 THUMB
    4 00000000         
    5 00000000         ;R3¿ÉÒÔ×Ô¶¯³öÈëÕ»£¬²»ÓÃÊÖ¶¯¿ØÖÆR3³öÈëÕ»¡£
    6 00000000         
    7 00000000         my_strcpy
                               PROC
    8 00000000                 EXPORT           my_strcpy
    9 00000000         loop_strcpy
   10 00000000 F811 3B01       LDRB             R3, [R1], #1 ;R1µØÖ·Öµ¸³¸øR3
   11 00000004 2B00            CMP              R3, #0      ;ÅÐ¶ÏR3ÊÇ·ñÎª0
   12 00000006 D002            BEQ              over_strcpy ;Îª0£¬Ìø³öÑ­»·
   13 00000008 F800 3B01       STRB             R3, [R0], #1 ;R3ÀïµÄÖµ£¨R1µÄµØÖ
                                                            ·Öµ£©,¸³¸øµ½R0µÄµØÖ
                                                            ·
   14 0000000C E7F8            B                loop_strcpy
   15 0000000E                 ENDP
   16 0000000E         over_strcpy
   17 0000000E E01C            B                over
   18 00000010         
   19 00000010         my_strncpy
                               PROC
   20 00000010                 EXPORT           my_strncpy
   21 00000010         loop_strncpy
   22 00000010 2A00            CMP              R2, #0      ;ÅÐ¶ÏR2ÊÇ·ñÎª0 
   23 00000012 D006            BEQ              over_strncpy ;Îª0¾ÍÌø³ö
   24 00000014 F811 3B01       LDRB             R3, [R1], #1 ;R1µÄµØÖ·Öµ¸øR3,È»
                                                            ºó+1
   25 00000018 F800 3B01       STRB             R3, [R0], #1 ;R3ÀïµÄµÄµØÖ·Öµ¸øR
                                                            0,È»ºó+1
   26 0000001C F1A2 0201       SUB              R2, #1      ;R2--
   27 00000020 E7F6            B                loop_strncpy
   28 00000022                 ENDP
   29 00000022         over_strncpy
   30 00000022 E012            B                over
   31 00000024         
   32 00000024         ;bug:Á¬ÐøÊ¹ÓÃÊ±£¬¿ÉÄÜ»á¿¨ËÀ,Ô­Òò´ý²é
   33 00000024         my_memset
                               PROC
   34 00000024                 EXPORT           my_memset
   35 00000024 B410            push             {R4}
   36 00000026 2800            CMP              R0, #0      ;R0Îª0Ö±½ÓÌø³ö
   37 00000028 D00D            BEQ              over_memset ;Îª0¾ÍÌø³ö 
   38 0000002A         
   39 0000002A 4614            MOV              R4, R2      ;R2µÄÖµ¸øR4
   40 0000002C F004 4400       AND              R4, #0x80000000 ;R4Ö»È¡×î¸ßÎ»
   41 00000030 F1B4 4F00       CMP              R4, #0x80000000 ;ºÍ0x80000000±È
                                                            ½Ï£¬ÅÐ¶ÏÊÇ·ñÎª¸ºÖµ
   42 00000034 D007            BEQ              over_memset ;ÊÇ¸ºÖµÌø³ö 
   43 00000036 460B            MOV              R3, R1      ;R1µÄÖµ¸øR3
   44 00000038         loop_memset
   45 00000038 2A00            CMP              R2, #0      ;ÅÐ¶ÏR2ÊÇ·ñÎª0 
   46 0000003A D004            BEQ              over_memset ;Îª0¾ÍÌø³ö
   47 0000003C F800 3B01       STRB             R3, [R0], #1 ;R3ÀïµÄµÄµØÖ·Öµ¸øR
                                                            0,È»ºó+1
   48 00000040 F1A2 0201       SUB              R2, #1      ;R2--
   49 00000044 E7F8            B                loop_memset



ARM Macro Assembler    Page 2 


   50 00000046                 ENDP
   51 00000046         over_memset
   52 00000046 BC10            pop{R4}
   53 00000048 E7FF            B                over
   54 0000004A         
   55 0000004A         over
   56 0000004A                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M7.fp.dp --apcs=
interwork --depend=.\objects\bsp_string.d -o.\objects\bsp_string.o -I.\RTE\_Rad
ar_Ranging -ID:\Users\j_aro\AppData\Local\Arm\Packs\Keil\STM32H7xx_DFP\2.3.1\Dr
ivers\CMSIS\Device\ST\STM32H7xx\Include -ID:\Keil_v5\ARM\CMSIS\Include --predef
ine="__MICROLIB SETA 1" --predefine="__UVISION_VERSION SETA 529" --predefine="S
TM32H743xx SETA 1" --list=.\listings\bsp_string.lst ..\FYYXXM_BSP\Source\bsp_st
ring.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MY_STING 00000000

Symbol: MY_STING
   Definitions
      At line 1 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      None
Comment: MY_STING unused
loop_memset 00000038

Symbol: loop_memset
   Definitions
      At line 44 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 49 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: loop_memset used once
loop_strcpy 00000000

Symbol: loop_strcpy
   Definitions
      At line 9 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 14 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: loop_strcpy used once
loop_strncpy 00000010

Symbol: loop_strncpy
   Definitions
      At line 21 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 27 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: loop_strncpy used once
my_memset 00000024

Symbol: my_memset
   Definitions
      At line 33 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 34 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: my_memset used once
my_strcpy 00000000

Symbol: my_strcpy
   Definitions
      At line 7 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 8 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: my_strcpy used once
my_strncpy 00000010

Symbol: my_strncpy
   Definitions
      At line 19 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 20 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: my_strncpy used once
over 0000004A

Symbol: over



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 55 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 17 in file ..\FYYXXM_BSP\Source\bsp_string.s
      At line 30 in file ..\FYYXXM_BSP\Source\bsp_string.s
      At line 53 in file ..\FYYXXM_BSP\Source\bsp_string.s

over_memset 00000046

Symbol: over_memset
   Definitions
      At line 51 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 37 in file ..\FYYXXM_BSP\Source\bsp_string.s
      At line 42 in file ..\FYYXXM_BSP\Source\bsp_string.s
      At line 46 in file ..\FYYXXM_BSP\Source\bsp_string.s

over_strcpy 0000000E

Symbol: over_strcpy
   Definitions
      At line 16 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 12 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: over_strcpy used once
over_strncpy 00000022

Symbol: over_strncpy
   Definitions
      At line 29 in file ..\FYYXXM_BSP\Source\bsp_string.s
   Uses
      At line 23 in file ..\FYYXXM_BSP\Source\bsp_string.s
Comment: over_strncpy used once
11 symbols
345 symbols in table
